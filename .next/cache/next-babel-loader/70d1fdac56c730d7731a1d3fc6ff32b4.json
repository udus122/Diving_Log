{"ast":null,"code":"var _jsxFileName = \"/Users/takedashuji/Desktop/study/js/React/Scuba-Diving Log/Component/Add/Add_Form.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport firebase from '../../lib/firebaseInit';\nimport { storage } from \"../../firebase\";\n\nclass Add_Form extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Prefectures: '',\n      Place_Name: '',\n      DAY: '',\n      Shop_Name: '',\n      Weather: '',\n      SuitType: '',\n      Marine_life: '',\n      Memo: '',\n      image: null,\n      url: '',\n      progress: 0\n    };\n    this.onChangePrefectures = this.onChangePrefectures.bind(this);\n    this.onChangePlace_Name = this.onChangePlace_Name.bind(this);\n    this.onChangeDAY = this.onChangeDAY.bind(this);\n    this.onChangeShop_Name = this.onChangeShop_Name.bind(this);\n    this.onChangeWeather = this.onChangeWeather.bind(this);\n    this.onChangeSuitType = this.onChangeSuitType.bind(this);\n    this.onChangeMarine_life = this.onChangeMarine_life.bind(this);\n    this.onChangeMemo = this.onChangeMemo.bind(this);\n    this.exeAdd = this.exeAdd.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUpload = this.handleUpload.bind(this);\n  }\n\n  handleChange(e) {\n    if (e.target.files[0]) {\n      this.setState({\n        image: e.target.files[0]\n      });\n    }\n  }\n\n  handleUpload() {\n    const uploadTask = storage.ref(`images/${this.state.image.name}`).put(this.state.image);\n    uploadTask.on(\"state_changed\", snapshot => {\n      const progressnew = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n      this.setState({\n        progress: progressnew\n      });\n      this.setState({\n        url: this.state.url\n      });\n    }, error => {\n      console.log(error);\n    }, () => {\n      storage.ref(\"images\").child(this.state.image.name).getDownloadURL().then(url => {\n        console.log(url);\n        this.setState({\n          url: url\n        });\n      });\n    });\n    console.log(\"image: \", this.state.image);\n  }\n\n  onChangePrefectures(e) {\n    this.setState({\n      Prefectures: e.target.value\n    });\n  }\n\n  onChangePlace_Name(e) {\n    this.setState({\n      Place_Name: e.target.value\n    });\n  }\n\n  onChangeDAY(e) {\n    this.setState({\n      DAY: e.target.value\n    });\n  }\n\n  onChangeShop_Name(e) {\n    this.setState({\n      Shop_Name: e.target.value\n    });\n  }\n\n  onChangeWeather(e) {\n    this.setState({\n      Weather: e.target.value\n    });\n  }\n\n  onChangeSuitType(e) {\n    this.setState({\n      SuitType: e.target.value\n    });\n  }\n\n  onChangeMarine_life(e) {\n    this.setState({\n      Marine_life: e.target.value\n    });\n  }\n\n  onChangeMemo(e) {\n    this.setState({\n      Memo: e.target.value\n    });\n  } //データ登録\n\n\n  exeAdd(e) {\n    const answer = window.confirm(\"登録内容にお間違いはありませんか？？\");\n\n    if (answer) {\n      let data = {\n        Prefectures: this.state.Prefectures,\n        Place_Name: this.state.Place_Name,\n        DAY: this.state.DAY,\n        Shop_Name: this.state.Shop_Name,\n        Weather: this.state.Weather,\n        SuitType: this.state.SuitType,\n        Marine_life: this.state.Marine_life,\n        Memo: this.state.Memo\n      };\n      let db = firebase.database();\n      let ref = db.ref('diving-point-map');\n      console.log(ref);\n      ref.set(data);\n      this.setState({\n        Prefectures: '',\n        Place_Name: '',\n        DAY: '',\n        Shop_Name: '',\n        Weather: '',\n        SuitType: '',\n        Marine_life: '',\n        Memo: '※データを登録しました。ご協力ありがとうございます！！'\n      });\n    }\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 16\n      }\n    }, __jsx(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, __jsx(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }, __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }\n    }, __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }\n    }, \"Prefectures:\"), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }, __jsx(\"input\", {\n      type: \"text\",\n      size: \"50\",\n      maxLength: \"7\",\n      required: true,\n      value: this.state.Prefectures,\n      onChange: this.onChangePrefectures,\n      placeholder: \"\\u90FD\\u9053\\u5E9C\\u770C\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    }))), __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }, __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }, \"Place_Name:\"), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    }, __jsx(\"input\", {\n      type: \"text\",\n      size: \"50\",\n      maxLength: \"15\",\n      required: true,\n      value: this.state.Place_Name,\n      onChange: this.onChangePlace_Name,\n      placeholder: \"\\u30DD\\u30A4\\u30F3\\u30C8\\u540D\\uFF08\\u5730\\u540D\\uFF09\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 29\n      }\n    }))), __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }, __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 25\n      }\n    }, \"DAY:\"), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, __jsx(\"input\", {\n      type: \"date\",\n      size: \"50\",\n      maxLength: \"10\",\n      required: true,\n      value: this.state.DAY,\n      onChange: this.onChangeDAY,\n      placeholder: \"YYYY/MM/DD\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 29\n      }\n    }))), __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 25\n      }\n    }, \"Weather:\"), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 25\n      }\n    }, __jsx(\"input\", {\n      type: \"text\",\n      size: \"50\",\n      maxLength: \"10\",\n      value: this.state.Weather,\n      onChange: this.onChangeWeather,\n      placeholder: \"\\u5FEB\\u6674\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 29\n      }\n    }))), __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 25\n      }\n    }, __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 25\n      }\n    }, \"Shop_Name:\"), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 25\n      }\n    }, __jsx(\"input\", {\n      type: \"text\",\n      size: \"50\",\n      maxLength: \"20\",\n      required: true,\n      value: this.state.Shop_Name,\n      onChange: this.onChangeShop_Name,\n      placeholder: \"\\u25CB\\u25CB\\u30C0\\u30A4\\u30D3\\u30F3\\u30B0\\u30B7\\u30E7\\u30C3\\u30D7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 29\n      }\n    }))), __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }, __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 25\n      }\n    }, \"SuitType:\"), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 25\n      }\n    }, __jsx(\"input\", {\n      type: \"text\",\n      size: \"50\",\n      maxLength: \"10\",\n      value: this.state.SuitType,\n      onChange: this.onChangeSuitType,\n      placeholder: \"\\u30C9\\u30E9\\u30A4\\u30B9\\u30FC\\u30C4/\\u30A6\\u30A7\\u30C3\\u30C8\\u30B9\\u30FC\\u30C4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 29\n      }\n    }))), __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }\n    }, __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 25\n      }\n    }, \"Marine life:\"), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 25\n      }\n    }, __jsx(\"input\", {\n      type: \"text\",\n      size: \"50\",\n      maxLength: \"20\",\n      value: this.state.Marine_life,\n      onChange: this.onChangeMarine_life,\n      placeholder: \"\\u305D\\u306E\\u65E5\\u4E00\\u756A\\u306E\\u751F\\u304D\\u7269\\u306F\\u306A\\u3093\\u3067\\u3057\\u3087\\u3046\\u304B????\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 29\n      }\n    }))), __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 25\n      }\n    }, __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 25\n      }\n    }, \"Memo:\"), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 25\n      }\n    }, __jsx(\"input\", {\n      type: \"textarea\",\n      size: \"50\",\n      maxLength: \"20\",\n      value: this.state.Memo,\n      onChange: this.onChangeMemo,\n      placeholder: \"\\u900F\\u660E\\u5EA6\\u30FB\\u900F\\u8996\\u5EA6\\u7B49\\u3001\\u3054\\u81EA\\u7531\\u306B\\u304A\\u4F7F\\u3044\\u304F\\u3060\\u3055\\u3044\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 29\n      }\n    }))))), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    }), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }, \"\\u3042\\u306A\\u305F\\u306E\\u30D9\\u30B9\\u30C8\\u30B7\\u30E7\\u30C3\\u30C8\\u3092\\u5171\\u6709\\u3057\\u307E\\u305B\\u3093\\u304B????\"), __jsx(\"div\", {\n      className: \"FileImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }\n    }, __jsx(\"progress\", {\n      value: this.state.progress,\n      max: \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 18\n      }\n    }), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 18\n      }\n    }), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 18\n      }\n    }), __jsx(\"input\", {\n      type: \"file\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 18\n      }\n    }), __jsx(\"button\", {\n      onClick: this.handleUpload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 18\n      }\n    }, \"Upload\"), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 18\n      }\n    }), this.state.url, __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 18\n      }\n    }), __jsx(\"div\", {\n      className: \"p-grid_list-images\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 18\n      }\n    }, __jsx(\"img\", {\n      src: this.state.url || \"http://via.placeholder.com/300\",\n      alt: \"firebase-image\",\n      className: \"img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }\n    }))), __jsx(\"button\", {\n      onClick: this.exeAdd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 21\n      }\n    }, \"Add\"));\n  }\n\n}\n\n;\nexport default Add_Form;","map":{"version":3,"sources":["/Users/takedashuji/Desktop/study/js/React/Scuba-Diving Log/Component/Add/Add_Form.js"],"names":["React","Component","firebase","storage","Add_Form","constructor","props","state","Prefectures","Place_Name","DAY","Shop_Name","Weather","SuitType","Marine_life","Memo","image","url","progress","onChangePrefectures","bind","onChangePlace_Name","onChangeDAY","onChangeShop_Name","onChangeWeather","onChangeSuitType","onChangeMarine_life","onChangeMemo","exeAdd","handleChange","handleUpload","e","target","files","setState","uploadTask","ref","name","put","on","snapshot","progressnew","Math","round","bytesTransferred","totalBytes","error","console","log","child","getDownloadURL","then","value","answer","window","confirm","data","db","database","set","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport firebase from '../../lib/firebaseInit';\nimport {storage} from \"../../firebase\";\n\nclass Add_Form extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            Prefectures:'',\n            Place_Name:'',\n            DAY:'',\n            Shop_Name:'',\n            Weather:'',\n            SuitType:'',\n            Marine_life:'',\n            Memo:'',\n            image:null,\n            url:'',\n            progress:0\n\n        }\n\n        this.onChangePrefectures = this.onChangePrefectures.bind(this);\n        this.onChangePlace_Name = this.onChangePlace_Name.bind(this);\n        this.onChangeDAY = this.onChangeDAY.bind(this);\n        this.onChangeShop_Name = this.onChangeShop_Name.bind(this);\n        this.onChangeWeather = this.onChangeWeather.bind(this);\n        this.onChangeSuitType = this.onChangeSuitType.bind(this);\n        this.onChangeMarine_life = this.onChangeMarine_life.bind(this);\n        this.onChangeMemo = this.onChangeMemo.bind(this);\n        this.exeAdd = this.exeAdd.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleUpload = this.handleUpload.bind(this);\n    }\n\n    handleChange(e){\n        if(e.target.files[0]){\n            this.setState({image: e.target.files[0]})\n        }\n    }\n\n    handleUpload(){\n        const uploadTask = storage.ref(`images/${this.state.image.name}`).put(this.state.image);\n        uploadTask.on(\n            \"state_changed\",\n            snapshot => {\n                const progressnew = Math.round(\n                    (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n                this.setState({progress:progressnew})\n                this.setState({url:this.state.url})\n            },\n            error => {\n                console.log(error);\n            },\n            () =>{\n                storage\n                .ref(\"images\")\n                .child(this.state.image.name)\n                .getDownloadURL()\n                .then(url => {\n                    console.log(url);\n                    this.setState({url:url});\n                });\n            }\n        );\n        console.log(\"image: \",this.state.image);\n    } \n\n    onChangePrefectures(e){\n        this.setState({Prefectures:e.target.value});\n    }\n\n    onChangePlace_Name(e){\n        this.setState({Place_Name:e.target.value});\n    }\n\n    onChangeDAY(e){\n        this.setState({DAY:e.target.value});\n    }\n\n    onChangeShop_Name(e){\n        this.setState({Shop_Name:e.target.value});\n    }\n\n    onChangeWeather(e){\n        this.setState({Weather:e.target.value});\n    }\n\n    onChangeSuitType(e){\n        this.setState({SuitType:e.target.value});\n    }\n\n    onChangeMarine_life(e){\n        this.setState({Marine_life:e.target.value});\n    }\n\n    onChangeMemo(e){\n        this.setState({Memo:e.target.value});\n    }\n\n    //データ登録\n    exeAdd(e){\n        const answer = window.confirm(\"登録内容にお間違いはありませんか？？\")\n        if(answer){\n        let data = {\n            Prefectures:this.state.Prefectures,\n            Place_Name:this.state.Place_Name,\n            DAY:this.state.DAY,\n            Shop_Name:this.state.Shop_Name,\n            Weather:this.state.Weather,\n            SuitType:this.state.SuitType,\n            Marine_life:this.state.Marine_life,\n            Memo:this.state.Memo\n        }\n        let db = firebase.database();\n        let ref = db.ref('diving-point-map');\n        console.log(ref);\n        ref.set(data);\n        this.setState({\n            Prefectures:'',\n            Place_Name:'',\n            DAY:'',\n            Shop_Name:'',\n            Weather:'',\n            SuitType:'',\n            Marine_life:'',\n            Memo:'※データを登録しました。ご協力ありがとうございます！！'\n\n         })\n        }\n    }\n  \n    render(){\n        return(<div>\n                <table>\n                    <tbody>\n                        <tr>\n                        <th>Prefectures:</th>\n                    <td><input type=\"text\" size=\"50\" maxLength=\"7\" required\n                        value={this.state.Prefectures}\n                        onChange={this.onChangePrefectures} placeholder=\"都道府県\" /></td>\n                        </tr>\n                        <tr>\n                        <th>Place_Name:</th>\n                        <td><input type=\"text\" size=\"50\" maxLength=\"15\" required\n                            value={this.state.Place_Name}\n                            onChange={this.onChangePlace_Name} placeholder=\"ポイント名（地名）\" /></td>\n                        </tr>\n                        <tr>\n                        <th>DAY:</th>\n                        <td><input type=\"date\" size=\"50\" maxLength=\"10\" required\n                            value={this.state.DAY}\n                            onChange={this.onChangeDAY} placeholder=\"YYYY/MM/DD\" /></td>\n                        </tr>\n                        <tr>\n                        <th>Weather:</th>\n                        <td><input type=\"text\" size=\"50\" maxLength=\"10\"\n                            value={this.state.Weather}\n                            onChange={this.onChangeWeather} placeholder=\"快晴\" /></td>\n                        </tr>\n                        <tr>\n                        <th>Shop_Name:</th>\n                        <td><input type=\"text\" size=\"50\" maxLength=\"20\" required\n                            value={this.state.Shop_Name}\n                            onChange={this.onChangeShop_Name} placeholder=\"○○ダイビングショップ\" /></td>\n                        </tr>\n                        <tr>\n                        <th>SuitType:</th>\n                        <td><input type=\"text\" size=\"50\" maxLength=\"10\"\n                            value={this.state.SuitType}\n                            onChange={this.onChangeSuitType} placeholder=\"ドライスーツ/ウェットスーツ\" /></td>\n                        </tr>\n                        <tr>\n                        <th>Marine life:</th>\n                        <td><input type=\"text\" size=\"50\" maxLength=\"20\"\n                            value={this.state.Marine_life}\n                            onChange={this.onChangeMarine_life} placeholder=\"その日一番の生き物はなんでしょうか????\" required /></td>\n                        </tr>\n                        <tr>\n                        <th>Memo:</th>\n                        <td><input type=\"textarea\" size=\"50\" maxLength=\"20\"\n                            value={this.state.Memo}\n                            onChange={this.onChangeMemo} placeholder=\"透明度・透視度等、ご自由にお使いください\" /></td>\n                        </tr>\n                    </tbody>\n                </table>\n                <br />\n                <p>あなたのベストショットを共有しませんか????</p>\n                <div className = \"FileImage\">\n                 <progress value={this.state.progress} max=\"100\" />\n                 <br />\n                 <br />\n                 <input type = \"file\" onChange ={this.handleChange} />\n                 <button onClick={this.handleUpload}>Upload</button>\n                 <br />\n                  {this.state.url}\n                 <br />\n                 <div className = \"p-grid_list-images\">\n                    <img src ={this.state.url || \"http://via.placeholder.com/300\"} alt =\"firebase-image\" className=\"img\"/>\n                 </div>\n                </div>\n                    <button onClick={this.exeAdd}>\n                            Add</button>\n        </div>)\n    };\n};\n\nexport default Add_Form;"]},"metadata":{},"sourceType":"module"}