{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/takedashuji/Desktop/study/js/React/Scuba-Diving Log/Component/Add/Add_Form.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport firebase from '../../lib/firebaseInit';\nimport { storage } from \"../../firebase\";\n\nvar Add_Form = /*#__PURE__*/function (_Component) {\n  _inherits(Add_Form, _Component);\n\n  var _super = _createSuper(Add_Form);\n\n  function Add_Form(props) {\n    var _this;\n\n    _classCallCheck(this, Add_Form);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      Prefectures: '',\n      Place_Name: '',\n      DAY: '',\n      Shop_Name: '',\n      Weather: '',\n      SuitType: '',\n      Marine_life: '',\n      Memo: '',\n      image: null,\n      url: '',\n      progress: 0\n    };\n    _this.onChangePrefectures = _this.onChangePrefectures.bind(_assertThisInitialized(_this));\n    _this.onChangePlace_Name = _this.onChangePlace_Name.bind(_assertThisInitialized(_this));\n    _this.onChangeDAY = _this.onChangeDAY.bind(_assertThisInitialized(_this));\n    _this.onChangeShop_Name = _this.onChangeShop_Name.bind(_assertThisInitialized(_this));\n    _this.onChangeWeather = _this.onChangeWeather.bind(_assertThisInitialized(_this));\n    _this.onChangeSuitType = _this.onChangeSuitType.bind(_assertThisInitialized(_this));\n    _this.onChangeMarine_life = _this.onChangeMarine_life.bind(_assertThisInitialized(_this));\n    _this.onChangeMemo = _this.onChangeMemo.bind(_assertThisInitialized(_this));\n    _this.exeAdd = _this.exeAdd.bind(_assertThisInitialized(_this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleUpload = _this.handleUpload.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Add_Form, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      if (e.target.files[0]) {\n        this.setState({\n          image: e.target.files[0]\n        });\n      }\n    }\n  }, {\n    key: \"handleUpload\",\n    value: function handleUpload() {\n      var _this2 = this;\n\n      var uploadTask = storage.ref(\"images/\".concat(this.state.image.name)).put(this.state.image);\n      uploadTask.on(\"state_changed\", function (snapshot) {\n        var progressnew = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n\n        _this2.setState({\n          progress: progressnew\n        });\n\n        _this2.setState({\n          url: _this2.state.url\n        });\n      }, function (error) {\n        console.log(error);\n      }, function () {\n        storage.ref(\"images\").child(_this2.state.image.name).getDownloadURL().then(function (url) {\n          console.log(url);\n\n          _this2.setState({\n            url: url\n          });\n        });\n      });\n      console.log(\"image: \", this.state.image);\n    }\n  }, {\n    key: \"onChangePrefectures\",\n    value: function onChangePrefectures(e) {\n      this.setState({\n        Prefectures: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangePlace_Name\",\n    value: function onChangePlace_Name(e) {\n      this.setState({\n        Place_Name: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeDAY\",\n    value: function onChangeDAY(e) {\n      this.setState({\n        DAY: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeShop_Name\",\n    value: function onChangeShop_Name(e) {\n      this.setState({\n        Shop_Name: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeWeather\",\n    value: function onChangeWeather(e) {\n      this.setState({\n        Weather: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeSuitType\",\n    value: function onChangeSuitType(e) {\n      this.setState({\n        SuitType: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeMarine_life\",\n    value: function onChangeMarine_life(e) {\n      this.setState({\n        Marine_life: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeMemo\",\n    value: function onChangeMemo(e) {\n      this.setState({\n        Memo: e.target.value\n      });\n    } //データ登録\n\n  }, {\n    key: \"exeAdd\",\n    value: function exeAdd(e) {\n      var answer = window.confirm(\"登録内容にお間違いはありませんか？？\");\n\n      if (answer) {\n        var data = {\n          Prefectures: this.state.Prefectures,\n          Place_Name: this.state.Place_Name,\n          DAY: this.state.DAY,\n          Shop_Name: this.state.Shop_Name,\n          Weather: this.state.Weather,\n          SuitType: this.state.SuitType,\n          Marine_life: this.state.Marine_life,\n          Memo: this.state.Memo\n        };\n        var db = firebase.database();\n        var ref = db.ref('diving-point-map');\n        console.log(ref);\n        ref.set(data);\n        this.setState({\n          Prefectures: '',\n          Place_Name: '',\n          DAY: '',\n          Shop_Name: '',\n          Weather: '',\n          SuitType: '',\n          Marine_life: '',\n          Memo: '※データを登録しました。ご協力ありがとうございます！！'\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 16\n        }\n      }, __jsx(\"table\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }\n      }, __jsx(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }\n      }, __jsx(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }\n      }, __jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }\n      }, \"Prefectures:\"), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, __jsx(\"input\", {\n        type: \"text\",\n        size: \"50\",\n        maxLength: \"7\",\n        required: true,\n        value: this.state.Prefectures,\n        onChange: this.onChangePrefectures,\n        placeholder: \"\\u90FD\\u9053\\u5E9C\\u770C\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 25\n        }\n      }))), __jsx(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }\n      }, __jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 25\n        }\n      }, \"Place_Name:\"), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 25\n        }\n      }, __jsx(\"input\", {\n        type: \"text\",\n        size: \"50\",\n        maxLength: \"15\",\n        required: true,\n        value: this.state.Place_Name,\n        onChange: this.onChangePlace_Name,\n        placeholder: \"\\u30DD\\u30A4\\u30F3\\u30C8\\u540D\\uFF08\\u5730\\u540D\\uFF09\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 29\n        }\n      }))), __jsx(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }\n      }, __jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 25\n        }\n      }, \"DAY:\"), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }\n      }, __jsx(\"input\", {\n        type: \"date\",\n        size: \"50\",\n        maxLength: \"10\",\n        required: true,\n        value: this.state.DAY,\n        onChange: this.onChangeDAY,\n        placeholder: \"YYYY/MM/DD\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 29\n        }\n      }))), __jsx(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }\n      }, __jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }\n      }, \"Weather:\"), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }\n      }, __jsx(\"input\", {\n        type: \"text\",\n        size: \"50\",\n        maxLength: \"10\",\n        value: this.state.Weather,\n        onChange: this.onChangeWeather,\n        placeholder: \"\\u5FEB\\u6674\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 29\n        }\n      }))), __jsx(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 25\n        }\n      }, __jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }\n      }, \"Shop_Name:\"), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }\n      }, __jsx(\"input\", {\n        type: \"text\",\n        size: \"50\",\n        maxLength: \"20\",\n        required: true,\n        value: this.state.Shop_Name,\n        onChange: this.onChangeShop_Name,\n        placeholder: \"\\u25CB\\u25CB\\u30C0\\u30A4\\u30D3\\u30F3\\u30B0\\u30B7\\u30E7\\u30C3\\u30D7\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 29\n        }\n      }))), __jsx(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 25\n        }\n      }, __jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }\n      }, \"SuitType:\"), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 25\n        }\n      }, __jsx(\"input\", {\n        type: \"text\",\n        size: \"50\",\n        maxLength: \"10\",\n        value: this.state.SuitType,\n        onChange: this.onChangeSuitType,\n        placeholder: \"\\u30C9\\u30E9\\u30A4\\u30B9\\u30FC\\u30C4/\\u30A6\\u30A7\\u30C3\\u30C8\\u30B9\\u30FC\\u30C4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 29\n        }\n      }))), __jsx(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 25\n        }\n      }, __jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 25\n        }\n      }, \"Marine life:\"), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 25\n        }\n      }, __jsx(\"input\", {\n        type: \"text\",\n        size: \"50\",\n        maxLength: \"20\",\n        value: this.state.Marine_life,\n        onChange: this.onChangeMarine_life,\n        placeholder: \"\\u305D\\u306E\\u65E5\\u4E00\\u756A\\u306E\\u751F\\u304D\\u7269\\u306F\\u306A\\u3093\\u3067\\u3057\\u3087\\u3046\\u304B????\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 29\n        }\n      }))), __jsx(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }\n      }, __jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }\n      }, \"Memo:\"), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 25\n        }\n      }, __jsx(\"input\", {\n        type: \"textarea\",\n        size: \"50\",\n        maxLength: \"20\",\n        value: this.state.Memo,\n        onChange: this.onChangeMemo,\n        placeholder: \"\\u900F\\u660E\\u5EA6\\u30FB\\u900F\\u8996\\u5EA6\\u7B49\\u3001\\u3054\\u81EA\\u7531\\u306B\\u304A\\u4F7F\\u3044\\u304F\\u3060\\u3055\\u3044\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 29\n        }\n      }))))), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 17\n        }\n      }), __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }\n      }, \"\\u3042\\u306A\\u305F\\u306E\\u30D9\\u30B9\\u30C8\\u30B7\\u30E7\\u30C3\\u30C8\\u3092\\u5171\\u6709\\u3057\\u307E\\u305B\\u3093\\u304B????\"), __jsx(\"div\", {\n        className: \"FileImage\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }\n      }, __jsx(\"progress\", {\n        value: this.state.progress,\n        max: \"100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 18\n        }\n      }), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 18\n        }\n      }), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 18\n        }\n      }), __jsx(\"input\", {\n        type: \"file\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 18\n        }\n      }), __jsx(\"button\", {\n        onClick: this.handleUpload,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 18\n        }\n      }, \"Upload\"), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 18\n        }\n      }), this.state.url, __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 18\n        }\n      }), __jsx(\"div\", {\n        className: \"p-grid_list-images\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 18\n        }\n      }, __jsx(\"img\", {\n        src: this.state.url || \"http://via.placeholder.com/300\",\n        alt: \"firebase-image\",\n        className: \"img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }\n      }))), __jsx(\"button\", {\n        onClick: this.exeAdd,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }\n      }, \"Add\"));\n    }\n  }]);\n\n  return Add_Form;\n}(Component);\n\n;\nexport default Add_Form;","map":{"version":3,"sources":["/Users/takedashuji/Desktop/study/js/React/Scuba-Diving Log/Component/Add/Add_Form.js"],"names":["React","Component","firebase","storage","Add_Form","props","state","Prefectures","Place_Name","DAY","Shop_Name","Weather","SuitType","Marine_life","Memo","image","url","progress","onChangePrefectures","bind","onChangePlace_Name","onChangeDAY","onChangeShop_Name","onChangeWeather","onChangeSuitType","onChangeMarine_life","onChangeMemo","exeAdd","handleChange","handleUpload","e","target","files","setState","uploadTask","ref","name","put","on","snapshot","progressnew","Math","round","bytesTransferred","totalBytes","error","console","log","child","getDownloadURL","then","value","answer","window","confirm","data","db","database","set"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport firebase from '../../lib/firebaseInit';\nimport {storage} from \"../../firebase\";\n\nclass Add_Form extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            Prefectures:'',\n            Place_Name:'',\n            DAY:'',\n            Shop_Name:'',\n            Weather:'',\n            SuitType:'',\n            Marine_life:'',\n            Memo:'',\n            image:null,\n            url:'',\n            progress:0\n\n        }\n\n        this.onChangePrefectures = this.onChangePrefectures.bind(this);\n        this.onChangePlace_Name = this.onChangePlace_Name.bind(this);\n        this.onChangeDAY = this.onChangeDAY.bind(this);\n        this.onChangeShop_Name = this.onChangeShop_Name.bind(this);\n        this.onChangeWeather = this.onChangeWeather.bind(this);\n        this.onChangeSuitType = this.onChangeSuitType.bind(this);\n        this.onChangeMarine_life = this.onChangeMarine_life.bind(this);\n        this.onChangeMemo = this.onChangeMemo.bind(this);\n        this.exeAdd = this.exeAdd.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleUpload = this.handleUpload.bind(this);\n    }\n\n    handleChange(e){\n        if(e.target.files[0]){\n            this.setState({image: e.target.files[0]})\n        }\n    }\n\n    handleUpload(){\n        const uploadTask = storage.ref(`images/${this.state.image.name}`).put(this.state.image);\n        uploadTask.on(\n            \"state_changed\",\n            snapshot => {\n                const progressnew = Math.round(\n                    (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n                this.setState({progress:progressnew})\n                this.setState({url:this.state.url})\n            },\n            error => {\n                console.log(error);\n            },\n            () =>{\n                storage\n                .ref(\"images\")\n                .child(this.state.image.name)\n                .getDownloadURL()\n                .then(url => {\n                    console.log(url);\n                    this.setState({url:url});\n                });\n            }\n        );\n        console.log(\"image: \",this.state.image);\n    } \n\n    onChangePrefectures(e){\n        this.setState({Prefectures:e.target.value});\n    }\n\n    onChangePlace_Name(e){\n        this.setState({Place_Name:e.target.value});\n    }\n\n    onChangeDAY(e){\n        this.setState({DAY:e.target.value});\n    }\n\n    onChangeShop_Name(e){\n        this.setState({Shop_Name:e.target.value});\n    }\n\n    onChangeWeather(e){\n        this.setState({Weather:e.target.value});\n    }\n\n    onChangeSuitType(e){\n        this.setState({SuitType:e.target.value});\n    }\n\n    onChangeMarine_life(e){\n        this.setState({Marine_life:e.target.value});\n    }\n\n    onChangeMemo(e){\n        this.setState({Memo:e.target.value});\n    }\n\n    //データ登録\n    exeAdd(e){\n        const answer = window.confirm(\"登録内容にお間違いはありませんか？？\")\n        if(answer){\n        let data = {\n            Prefectures:this.state.Prefectures,\n            Place_Name:this.state.Place_Name,\n            DAY:this.state.DAY,\n            Shop_Name:this.state.Shop_Name,\n            Weather:this.state.Weather,\n            SuitType:this.state.SuitType,\n            Marine_life:this.state.Marine_life,\n            Memo:this.state.Memo\n        }\n        let db = firebase.database();\n        let ref = db.ref('diving-point-map');\n        console.log(ref);\n        ref.set(data);\n        this.setState({\n            Prefectures:'',\n            Place_Name:'',\n            DAY:'',\n            Shop_Name:'',\n            Weather:'',\n            SuitType:'',\n            Marine_life:'',\n            Memo:'※データを登録しました。ご協力ありがとうございます！！'\n\n         })\n        }\n    }\n  \n    render(){\n        return(<div>\n                <table>\n                    <tbody>\n                        <tr>\n                        <th>Prefectures:</th>\n                    <td><input type=\"text\" size=\"50\" maxLength=\"7\" required\n                        value={this.state.Prefectures}\n                        onChange={this.onChangePrefectures} placeholder=\"都道府県\" /></td>\n                        </tr>\n                        <tr>\n                        <th>Place_Name:</th>\n                        <td><input type=\"text\" size=\"50\" maxLength=\"15\" required\n                            value={this.state.Place_Name}\n                            onChange={this.onChangePlace_Name} placeholder=\"ポイント名（地名）\" /></td>\n                        </tr>\n                        <tr>\n                        <th>DAY:</th>\n                        <td><input type=\"date\" size=\"50\" maxLength=\"10\" required\n                            value={this.state.DAY}\n                            onChange={this.onChangeDAY} placeholder=\"YYYY/MM/DD\" /></td>\n                        </tr>\n                        <tr>\n                        <th>Weather:</th>\n                        <td><input type=\"text\" size=\"50\" maxLength=\"10\"\n                            value={this.state.Weather}\n                            onChange={this.onChangeWeather} placeholder=\"快晴\" /></td>\n                        </tr>\n                        <tr>\n                        <th>Shop_Name:</th>\n                        <td><input type=\"text\" size=\"50\" maxLength=\"20\" required\n                            value={this.state.Shop_Name}\n                            onChange={this.onChangeShop_Name} placeholder=\"○○ダイビングショップ\" /></td>\n                        </tr>\n                        <tr>\n                        <th>SuitType:</th>\n                        <td><input type=\"text\" size=\"50\" maxLength=\"10\"\n                            value={this.state.SuitType}\n                            onChange={this.onChangeSuitType} placeholder=\"ドライスーツ/ウェットスーツ\" /></td>\n                        </tr>\n                        <tr>\n                        <th>Marine life:</th>\n                        <td><input type=\"text\" size=\"50\" maxLength=\"20\"\n                            value={this.state.Marine_life}\n                            onChange={this.onChangeMarine_life} placeholder=\"その日一番の生き物はなんでしょうか????\" required /></td>\n                        </tr>\n                        <tr>\n                        <th>Memo:</th>\n                        <td><input type=\"textarea\" size=\"50\" maxLength=\"20\"\n                            value={this.state.Memo}\n                            onChange={this.onChangeMemo} placeholder=\"透明度・透視度等、ご自由にお使いください\" /></td>\n                        </tr>\n                    </tbody>\n                </table>\n                <br />\n                <p>あなたのベストショットを共有しませんか????</p>\n                <div className = \"FileImage\">\n                 <progress value={this.state.progress} max=\"100\" />\n                 <br />\n                 <br />\n                 <input type = \"file\" onChange ={this.handleChange} />\n                 <button onClick={this.handleUpload}>Upload</button>\n                 <br />\n                  {this.state.url}\n                 <br />\n                 <div className = \"p-grid_list-images\">\n                    <img src ={this.state.url || \"http://via.placeholder.com/300\"} alt =\"firebase-image\" className=\"img\"/>\n                 </div>\n                </div>\n                    <button onClick={this.exeAdd}>\n                            Add</button>\n        </div>)\n    };\n};\n\nexport default Add_Form;"]},"metadata":{},"sourceType":"module"}